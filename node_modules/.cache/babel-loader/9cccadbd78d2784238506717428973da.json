{"ast":null,"code":"var _jsxFileName = \"/Users/colin/Desktop/next/fitness-kaki-front-end/src/App.js\";\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from \"./components/Home\";\nimport Upload from \"./components/Upload\";\nimport NutritionList from \"./components/NutritionList\";\nimport About from \"./components/About\";\nimport User from \"./components/User\";\nimport Contact from \"./components/Contact\";\nimport NavBar from \"./components/navbar\";\nimport Registration from \"./User/Registration\";\nimport Login from \"./User/Login\";\nimport Profile from \"./User/Profile\";\nimport EventFeed from \"./pages/EventFeed\";\nimport EventCreate from \"./pages/EventCreate\";\nimport axios from 'axios';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      let loginStatus = localStorage.getItem('loggedInStatus');\n      let userData = localStorage.getItem('userData');\n      this.setState({\n        loggedInStatus: loginStatus,\n        current_user: JSON.parse(userData)\n      });\n    };\n\n    this.updateDetails = () => {\n      let userData = localStorage.getItem('userData');\n      this.setState({\n        current_user: JSON.parse(userData)\n      });\n    };\n\n    this.LiftMeUp = message => {\n      this.setState({\n        username: message.username,\n        email: message.email,\n        password: message.password,\n        firstname: message.firstname,\n        lastname: message.lastname\n      }, () => this.SigningUp());\n    };\n\n    this.SigningUp = () => {\n      axios({\n        method: 'POST',\n        url: 'http://localhost:5000/api/v1/users/',\n        data: {\n          username: \"\".concat(this.state.username),\n          email: \"\".concat(this.state.email),\n          password: \"\".concat(this.state.password),\n          first_name: \"\".concat(this.state.firstname),\n          last_name: \"\".concat(this.state.lastname)\n        }\n      }).then(result => {\n        this.props.history.push('/profile');\n        console.log(result);\n      }).catch(error => {\n        console.log(\"Sign-up failed: \".concat(error));\n        console.log(error); // console.log(error.response.data.message)\n      });\n    };\n\n    this.LogMeUp = message => {\n      this.setState({\n        username: message.username,\n        password: message.password\n      }, () => this.LoginAccount());\n    };\n\n    this.LoginAccount = () => {\n      axios({\n        method: 'POST',\n        url: 'http://localhost:5000/api/v1/sessions/login',\n        data: {\n          username: \"\".concat(this.state.username),\n          password: \"\".concat(this.state.password)\n        }\n      }).then(result => {\n        let JWT = result.data.auth_token;\n        localStorage.setItem('userToken', JWT);\n        localStorage.setItem('userData', JSON.stringify(result.data.user));\n        localStorage.setItem('loggedInStatus', 'loggedIn');\n        this.setState({\n          loggedInStatus: 'loggedIn',\n          current_user: result.data.user\n        });\n        this.props.history.push('/profile');\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.LogOutAccount = () => {\n      localStorage.removeItem('userToken');\n      localStorage.removeItem('userData');\n      localStorage.setItem('loggedInStatus', 'loggedOut');\n      this.setState({\n        loggedInStatus: 'loggedOut'\n      });\n      this.props.history.push('/');\n    };\n\n    this.getUserDetails = () => {\n      axios({\n        method: 'GET',\n        url: 'http://localhost:5000/api/v1/users/'\n      }).then(result => {\n        let temp_data = result.data;\n        this.setState({\n          users: temp_data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      firstname: '',\n      lastname: '',\n      loggedInStatus: 'loggedOut',\n      users: [],\n      current_user: {}\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n      isLoggedIn: this.state.loggedInStatus,\n      logout: this.LogOutAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: props => {\n        return React.createElement(Home, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/upload\",\n      component: props => {\n        return React.createElement(Upload, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/nutrition/:food\",\n      component: props => {\n        return React.createElement(NutritionList, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/about\",\n      component: props => {\n        return React.createElement(About, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/contact\",\n      component: props => {\n        return React.createElement(Contact, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/user\",\n      component: props => {\n        return React.createElement(User, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/registration\",\n      component: props => {\n        return React.createElement(Registration, Object.assign({}, props, {\n          LiftMeUp: this.LiftMeUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      component: props => {\n        return React.createElement(Login, Object.assign({}, props, {\n          LogMeUp: this.LogMeUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profile\",\n      component: props => {\n        return React.createElement(Profile, Object.assign({}, props, {\n          updateDetails: this.updateDetails,\n          current_user: this.state.current_user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/events\",\n      component: props => {\n        return React.createElement(EventFeed, Object.assign({}, props, {\n          current_user: this.state.current_user,\n          users: this.state.users,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/events/create\",\n      component: props => {\n        return React.createElement(EventCreate, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/colin/Desktop/next/fitness-kaki-front-end/src/App.js"],"names":["React","Switch","Route","Home","Upload","NutritionList","About","User","Contact","NavBar","Registration","Login","Profile","EventFeed","EventCreate","axios","App","Component","constructor","props","componentDidMount","loginStatus","localStorage","getItem","userData","setState","loggedInStatus","current_user","JSON","parse","updateDetails","LiftMeUp","message","username","email","password","firstname","lastname","SigningUp","method","url","data","state","first_name","last_name","then","result","history","push","console","log","catch","error","LogMeUp","LoginAccount","JWT","auth_token","setItem","stringify","user","LogOutAccount","removeItem","getUserDetails","temp_data","users","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from \"./components/Home\";\nimport Upload from \"./components/Upload\";\nimport NutritionList from \"./components/NutritionList\";\nimport About from \"./components/About\";\nimport User from \"./components/User\";\nimport Contact from \"./components/Contact\";\nimport NavBar from \"./components/navbar\";\nimport Registration from \"./User/Registration\";\nimport Login from \"./User/Login\";\nimport Profile from \"./User/Profile\";\nimport EventFeed from \"./pages/EventFeed\";\nimport EventCreate from \"./pages/EventCreate\";\nimport axios from 'axios'\nimport './App.css';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      firstname: '',\n      lastname: '',\n      loggedInStatus: 'loggedOut',\n      users: [],\n      current_user: {}\n    }\n  }\n\n  componentDidMount = () => {\n    let loginStatus = localStorage.getItem('loggedInStatus')\n    let userData = localStorage.getItem('userData')\n    this.setState({\n      loggedInStatus: loginStatus,\n      current_user: JSON.parse(userData)\n    })\n  }\n\n  updateDetails = () => {\n    let userData = localStorage.getItem('userData')\n    this.setState({\n      current_user: JSON.parse(userData)\n    })\n  }\n\n  LiftMeUp = (message) => {\n    this.setState({\n      username: message.username,\n      email: message.email,\n      password: message.password,\n      firstname: message.firstname,\n      lastname: message.lastname\n    },\n      () => this.SigningUp()\n    )\n  }\n\n  SigningUp = () => {\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/v1/users/',\n      data: {\n        username: `${this.state.username}`,\n        email: `${this.state.email}`,\n        password: `${this.state.password}`,\n        first_name: `${this.state.firstname}`,\n        last_name: `${this.state.lastname}`\n      }\n    }).then(result => {\n      this.props.history.push('/profile')\n      console.log(result)\n    })\n      .catch(error => {\n        console.log(`Sign-up failed: ${error}`)\n        console.log(error)\n        // console.log(error.response.data.message)\n      })\n  }\n\n  LogMeUp = (message) => {\n    this.setState({\n      username: message.username,\n      password: message.password\n    },\n      () => this.LoginAccount()\n    )\n  }\n\n  LoginAccount = () => {\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/v1/sessions/login',\n      data: {\n        username: `${this.state.username}`,\n        password: `${this.state.password}`\n      }\n    }).then(result => {\n      let JWT = result.data.auth_token;\n      localStorage.setItem('userToken', JWT)\n      localStorage.setItem('userData', JSON.stringify(result.data.user))\n      localStorage.setItem('loggedInStatus', 'loggedIn')\n      this.setState({ loggedInStatus: 'loggedIn', current_user: result.data.user })\n      this.props.history.push('/profile')\n    }).catch(error => {\n      console.log(error)\n    }\n\n    )\n  }\n\n  LogOutAccount = () => {\n    localStorage.removeItem('userToken')\n    localStorage.removeItem('userData')\n    localStorage.setItem('loggedInStatus', 'loggedOut')\n\n    this.setState(\n      { loggedInStatus: 'loggedOut' }\n    )\n\n    this.props.history.push('/')\n  }\n\n  //get a list of all users\n  getUserDetails = () => {\n    axios({\n      method: 'GET',\n      url: 'http://localhost:5000/api/v1/users/',\n    }).then(result => {\n      let temp_data = result.data;\n      this.setState({ users: temp_data })\n    }).catch(error => {\n      console.log(error)\n    })\n  }\n\n  render() {\n\n    return (\n      <>\n        <NavBar isLoggedIn={this.state.loggedInStatus} logout={this.LogOutAccount} />\n        <Switch>\n          <Route exact path='/' component={props => {\n            return (\n              <Home {...props} />)\n          }} />\n          <Route path='/upload' component={props => {\n            return (\n              <Upload {...props} />)\n          }} />\n          <Route path='/nutrition/:food' component={props => {\n            return (\n              <NutritionList {...props} />)\n          }} />\n          <Route path='/about' component={props => {\n            return (\n              <About {...props} />)\n          }} />\n          <Route path='/contact' component={props => {\n            return (\n\n              <Contact {...props} />)\n          }} />\n          <Route path='/user' component={props => {\n            return (\n              <User {...props} />)\n          }} />\n          <Route path='/registration' component={props => {\n            return (\n              <Registration {...props} LiftMeUp={this.LiftMeUp} />)\n          }} />\n          <Route path='/login' component={props => {\n            return (\n              <Login {...props} LogMeUp={this.LogMeUp} />)\n          }} />\n          {/* <Route path='/profile' component={props => {\n            return (\n              <Profile {...props} updateDetails={this.updateDetails} current_user={this.state.current_user} />)\n          }} />\n          <Route exact path='/events' component={props => {\n            return (\n              <EventFeed {...props} current_user = {this.state.current_user} users={this.state.users} />)\n          }} /> */}\n          <Route path='/profile' component={props => {\n            return (\n              <Profile {...props} updateDetails={this.updateDetails} current_user={this.state.current_user} />)\n          }} />\n          <Route exact path='/events' component={props => {\n            return (\n              <EventFeed {...props} current_user = {this.state.current_user} users={this.state.users} />)\n          }} />\n          <Route path='/events/create' component={props => {\n            return (\n              <EventCreate {...props} />)\n          }} />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}