{"ast":null,"code":"var _jsxFileName = \"/Users/colin/Desktop/next/fitness-kaki-front-end/src/pages/EventCreate.js\";\nimport React from 'react';\nimport { Card, CardImg, CardText, Button, Col, Form, FormText, FormGroup, Input, Label, Row } from \"reactstrap\";\nimport axios from 'axios';\nimport PlacesWithStandaloneSearchBox from \"../components/PlacesWithStandaloneSearchBox\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../images/loader.gif\";\n\nclass EventCreate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.liftMyLocationUp = locationFromGoogle => {\n      this.setState({\n        location: locationFromGoogle\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let formData = new FormData();\n      formData.append(\"image_file\", this.state.imageFile, this.state.imageFile.name);\n      formData.append(\"name\", this.state.eventName);\n      formData.append(\"description\", this.state.description);\n      formData.append(\"max_number\", this.state.maxNumber);\n      formData.append(\"time\", this.state.time);\n      formData.append(\"location\", this.state.location);\n      this.registerEvent(formData);\n      setTimeout(() => {\n        this.props.eventU;\n        this.props.history.push('/events');\n      }, 1000);\n    };\n\n    this.handleFile = e => {\n      this.setState({\n        imageFile: e.target.files[0],\n        previewImage: URL.createObjectURL(e.target.files[0])\n      });\n    };\n\n    this.registerEvent = formData => {\n      let JWT = localStorage.getItem('userToken');\n      axios.post('http://localhost:5000/api/v1/events/', formData, {\n        headers: {\n          'Authorization': \"Bearer \".concat(JWT)\n        }\n      }).then(response => {\n        if (response.data.success) {\n          console.log(response.data.success);\n        }\n      }).catch(error => {\n        console.log(\"ERROR in request: \", error);\n      });\n    };\n\n    this.handleClick = () => {\n      this.imageUpload.current.click();\n    };\n\n    this.imageUpload = React.createRef();\n    this.state = {\n      eventName: '',\n      description: '',\n      location: '',\n      time: '',\n      maxNumber: '',\n      isLoading: false,\n      previewImage: null,\n      imageFile: null,\n      message: ''\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          event_name = _this$state.event_name,\n          description = _this$state.description,\n          location = _this$state.location,\n          max_number = _this$state.max_number,\n          time = _this$state.time,\n          isLoading = _this$state.isLoading,\n          previewImage = _this$state.previewImage,\n          imageFile = _this$state.imageFile,\n          message = _this$state.message;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Create Your Event Here:\"), React.createElement(Row, {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"4\",\n      sm: \"6\",\n      className: \"d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \" w-75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"eventName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Event Name:\"), React.createElement(Input, {\n      id: \"eventName\",\n      type: \"text\",\n      value: event_name,\n      onChange: this.handleChange,\n      placeholder: \"Give me a name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Description:\"), React.createElement(Input, {\n      id: \"description\",\n      type: \"text\",\n      value: description,\n      onChange: this.handleChange,\n      placeholder: \"Share what I'm about\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Location:\"), React.createElement(PlacesWithStandaloneSearchBox, {\n      liftMyLocationUp: this.liftMyLocationUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Time:\"), React.createElement(Input, {\n      id: \"time\",\n      type: \"datetime-local\",\n      value: time,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"maxNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Max Number:\"), React.createElement(Input, {\n      id: \"maxNumber\",\n      type: \"number\",\n      min: \"0\",\n      value: max_number,\n      onChange: this.handleChange,\n      placeholder: \"It's always better with company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\xA0\")))), React.createElement(Col, {\n      md: \"4\",\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Label, {\n      className: \"d-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Upload your event image here:\"), React.createElement(\"div\", {\n      id: \"image-preview\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: \"300px\",\n        height: \"300px\"\n      },\n      className: \"d-flex justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, !isLoading ? !imageFile ? React.createElement(\"h4\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, message ? message : \"Live Preview\") : React.createElement(CardImg, {\n      src: previewImage,\n      height: \"300px\",\n      width: \"300px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }) : React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      id: \"upload\",\n      style: {\n        display: \"none\"\n      },\n      type: \"file\",\n      accept: \"image/*\",\n      multiple: false,\n      name: \"image-file\",\n      ref: this.imageUpload,\n      id: \"imageFile\",\n      onChange: this.handleFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"image-submit-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 12,\n      sm: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      outline: true,\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/events',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Create Event\")))));\n  }\n\n}\n\nexport default EventCreate;","map":{"version":3,"sources":["/Users/colin/Desktop/next/fitness-kaki-front-end/src/pages/EventCreate.js"],"names":["React","Card","CardImg","CardText","Button","Col","Form","FormText","FormGroup","Input","Label","Row","axios","PlacesWithStandaloneSearchBox","Link","Loader","EventCreate","Component","constructor","props","handleChange","e","setState","target","id","value","liftMyLocationUp","locationFromGoogle","location","handleSubmit","preventDefault","formData","FormData","append","state","imageFile","name","eventName","description","maxNumber","time","registerEvent","setTimeout","eventU","history","push","handleFile","files","previewImage","URL","createObjectURL","JWT","localStorage","getItem","post","headers","then","response","data","success","console","log","catch","error","handleClick","imageUpload","current","click","createRef","isLoading","message","render","event_name","max_number","width","height","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    Card,\n    CardImg,\n    CardText,\n    Button,\n    Col,\n    Form,\n    FormText,\n    FormGroup,\n    Input,\n    Label,\n    Row,\n} from \"reactstrap\"\nimport axios from 'axios';\nimport PlacesWithStandaloneSearchBox from \"../components/PlacesWithStandaloneSearchBox\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../images/loader.gif\"\n\nclass EventCreate extends React.Component {\n    constructor(props) {\n        super(props);\n        this.imageUpload=React.createRef();\n        this.state = {\n            eventName: '',\n            description: '',\n            location: '',\n            time: '',\n            maxNumber: '',\n            isLoading:false,\n            previewImage:null,\n            imageFile:null,\n            message:''\n        }\n    }\n\n    handleChange = e => {\n        this.setState({ [e.target.id]: e.target.value })\n    }\n\n    liftMyLocationUp = locationFromGoogle => {\n        this.setState({ location: locationFromGoogle })\n    }\n\n    //handleSubmit lifts up field values \n    handleSubmit = (e) => {\n        e.preventDefault()\n        let formData = new FormData()\n        formData.append(\"image_file\", this.state.imageFile, this.state.imageFile.name);\n        formData.append(\"name\", this.state.eventName);\n        formData.append(\"description\", this.state.description);\n        formData.append(\"max_number\", this.state.maxNumber);\n        formData.append(\"time\", this.state.time);\n        formData.append(\"location\", this.state.location);\n\n        this.registerEvent(formData);\n        setTimeout(() => {\n            this.props.eventU\n            this.props.history.push('/events')\n    }, 1000);\n    }\n\n    handleFile = (e) =>{\n        this.setState({\n            imageFile:e.target.files[0],\n            previewImage:URL.createObjectURL(e.target.files[0]),\n        })\n    }\n\n    //necessary to setState? why not just keep it as props or make ?\n    registerEvent = (formData) => {\n        let JWT = localStorage.getItem('userToken')\n        axios.post('http://localhost:5000/api/v1/events/',\n            formData,\n            {\n                headers: {\n                    'Authorization': `Bearer ${JWT}`\n                }\n            }\n        ).then(response => {\n            if (response.data.success){\n                console.log(response.data.success)\n            }\n        }).catch(error => {\n            console.log(\"ERROR in request: \", error);\n        })\n    }\n\n    handleClick = () =>{\n        this.imageUpload.current.click();\n    }\n\n    render() {\n        const { event_name, description, location, max_number, time, isLoading, previewImage, imageFile, message } = this.state\n        return (\n            <div>\n                <h3 className=\"text-center\">Create Your Event Here:</h3>\n                <Row className=\"d-flex justify-content-center\">\n                    <Col md=\"4\" sm=\"6\" className=\"d-flex justify-content-end\">\n                        <Form className=\" w-75\">\n                            <FormGroup>\n                                <Label for=\"eventName\">Event Name:</Label>\n                                <Input id=\"eventName\" type=\"text\" value={event_name} onChange={this.handleChange} placeholder=\"Give me a name\"></Input>\n                                <Label for=\"description\">Description:</Label>\n                                <Input id=\"description\" type=\"text\" value={description} onChange={this.handleChange} placeholder=\"Share what I'm about\"></Input>\n                                <Label for=\"location\">Location:</Label>\n                                <PlacesWithStandaloneSearchBox liftMyLocationUp={this.liftMyLocationUp} />\n                                {/* <Input id=\"location\" type=\"text\" value={location} onChange={this.handleChange} placeholder=\"Tell folks where to find me\"></Input> */}\n                                <Label for=\"time\">Time:</Label>\n                                <Input id=\"time\" type=\"datetime-local\" value={time} onChange={this.handleChange}></Input>\n                                <Label for=\"maxNumber\">Max Number:</Label>\n                                <Input id=\"maxNumber\" type=\"number\" min=\"0\" value={max_number} onChange={this.handleChange} placeholder=\"It's always better with company\"></Input>\n                                <div>&nbsp;</div>\n                            </FormGroup>\n                        </Form>\n                    </Col>\n\n\n                    <Col md=\"4\" sm=\"6\">\n                        <Row>\n                        <FormGroup>\n                        <Label className=\"d-block\">Upload your event image here:</Label>\n                            <div id=\"image-preview\" onClick={this.handleClick}>\n\n                                <Card style={{width:\"300px\", height:\"300px\"}} className=\"d-flex justify-content-center align-items-center\">\n                                    {/* Set loading icon when uploading picture. nested ternary operator. */}\n                                    {!isLoading?(!imageFile?(<h4 className=\"text-center\">{message ? message : \"Live Preview\"}</h4>):(<CardImg src={previewImage} height=\"300px\" width=\"300px\"/>)):<Loader/>}\n                                </Card>\n                            </div>\n                            <input id=\"upload\" style={{display:\"none\"}} type=\"file\" accept=\"image/*\" multiple={false} name=\"image-file\" ref={this.imageUpload} id=\"imageFile\" onChange={this.handleFile}></input>\n                        </FormGroup>\n                            <FormGroup>\n                            <div id=\"image-submit-form\">\n                                    <Row >\n                                        <Col md={12} sm={12}>\n                         \n\n                                        </Col>\n                                    </Row>\n                            </div>\n                            </FormGroup>\n                        </Row>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col className=\"d-flex justify-content-center\">\n                        <Button type=\"submit\" outline color=\"primary\" onClick={this.handleSubmit}><Link to={'/events'}>Create Event</Link></Button>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nexport default EventCreate;"]},"metadata":{},"sourceType":"module"}