{"ast":null,"code":"var _jsxFileName = \"/Users/colin/Desktop/next/fitness-kaki-front-end/src/User/Profile.js\";\nimport React, { Component } from 'react';\nimport { Button } from \"reactstrap\";\nimport './Profile.css';\nimport Dominic from \"../images/Dominic.jpg\";\nimport axios from 'axios';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let JWT = localStorage.getItem('userToken');\n      let data = {\n        username: this.state.username,\n        first_name: this.state.first_name,\n        last_name: this.state.last_name,\n        email: this.state.email\n      };\n      console.log(\"username is \".concat(data['username']));\n      console.log(\"first name is \".concat(data['first_name']));\n      console.log(\"last name is \".concat(data['last_name']));\n      console.log(\"email is \".concat(data['email']));\n      axios.post('http://final-project-healthy.herokuapp.com/api/v1/users/update', data, {\n        headers: {\n          Authorization: \"Bearer \".concat(JWT)\n        }\n      }).then(result => {\n        // this.props.history.push('/profile')\n        localStorage.setItem('userData', JSON.stringify(result.data.updated_details));\n        this.props.updateDetails();\n      }).catch(error => {\n        console.log(\"Edit-Profile failed: \".concat(error));\n        console.log(error); // console.log(error.response.data.message)\n      });\n    };\n\n    this.handleInput = e => {\n      e.preventDefault();\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      formErrors: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        loginSuccess: false\n      }\n    };\n    this.fileInputRef = React.createRef();\n    this.openFile = this.openFile.bind(this);\n  }\n\n  // handleSubmit = e => {\n  //     e.preventDefault()\n  //     const RegistrationApp = {\n  //         username: this.state.username,\n  //         first_name: this.state.first_name,\n  //         last_name: this.state.last_name,\n  //         email: this.state.email\n  //     }\n  //     this.props.LogMeUp(RegistrationApp);\n  // };\n  openFile() {\n    this.fileInputRef.current.click();\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.props.current_user.first_name, \"'s Profile\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Dominic,\n      style: {\n        width: '270px',\n        display: 'block',\n        margin: 'auto'\n      },\n      alt: \"react is a pain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.username,\n      placeholder: this.props.current_user.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first_name\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.first_name,\n      placeholder: this.props.current_user.first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last_name\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.last_name,\n      placeholder: this.props.current_user.last_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.email,\n      placeholder: this.props.current_user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Save changes\")));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/colin/Desktop/next/fitness-kaki-front-end/src/User/Profile.js"],"names":["React","Component","Button","Dominic","axios","Profile","constructor","props","handleSubmit","e","preventDefault","JWT","localStorage","getItem","data","username","state","first_name","last_name","email","console","log","post","headers","Authorization","then","result","setItem","JSON","stringify","updated_details","updateDetails","catch","error","handleInput","name","target","value","setState","password","formErrors","loginSuccess","fileInputRef","createRef","openFile","bind","current","click","render","current_user","width","display","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from \"reactstrap\"\nimport './Profile.css'\nimport Dominic from \"../images/Dominic.jpg\"\nimport axios from 'axios'\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            first_name: \"\",\n            last_name: \"\",\n            formErrors: {\n                username: \"\",\n                email: \"\",\n                password: \"\",\n                loginSuccess: false,\n            },\n        };\n        this.fileInputRef = React.createRef();\n        this.openFile = this.openFile.bind(this);\n    }\n\n\n\n    handleSubmit = e => {\n        e.preventDefault()\n        let JWT = localStorage.getItem('userToken');\n        let data = {\n            username: this.state.username,\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            email: this.state.email\n        }\n        console.log(`username is ${data['username']}`)\n        console.log(`first name is ${data['first_name']}`)\n        console.log(`last name is ${data['last_name']}`)\n        console.log(`email is ${data['email']}`)\n\n        axios.post('http://final-project-healthy.herokuapp.com/api/v1/users/update',\n            data,\n            {\n                headers: {\n                    Authorization: `Bearer ${JWT}`\n                },\n            }).then(result => {\n                // this.props.history.push('/profile')\n                localStorage.setItem('userData', JSON.stringify(result.data.updated_details))\n                this.props.updateDetails()\n            })\n            .catch(error => {\n                console.log(`Edit-Profile failed: ${error}`)\n                console.log(error)\n                // console.log(error.response.data.message)\n            })\n    }\n\n\n\n    // handleSubmit = e => {\n    //     e.preventDefault()\n    //     const RegistrationApp = {\n    //         username: this.state.username,\n    //         first_name: this.state.first_name,\n    //         last_name: this.state.last_name,\n    //         email: this.state.email\n    //     }\n\n\n    //     this.props.LogMeUp(RegistrationApp);\n    // };\n\n    openFile() {\n        this.fileInputRef.current.click()\n    }\n    handleInput = (e) => {\n        e.preventDefault();\n        const name = e.target.name;\n        const value = e.target.value;\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n        console.log(this.state)\n        return (\n            <div className=\"wrapper\">\n                <div className=\"form-wrapper\">\n                    <h1>{this.props.current_user.first_name}'s Profile</h1>\n                    {/* <div className=\"Card\"> */}\n                    <div>\n                        {/* <img src={Acc} id=\"account\" /> */}\n                        <img src={Dominic} style={{ width: '270px', display: 'block', margin: 'auto' }} alt=\"react is a pain\"/>\n                    </div>\n\n                    {/* </div> */}\n                    <br></br>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"username\" className=\"form-control\" onChange={this.handleInput} value={this.state.username} placeholder={this.props.current_user.username} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"first_name\" className=\"form-control\" onChange={this.handleInput} value={this.state.first_name} placeholder={this.props.current_user.first_name} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"last_name\" className=\"form-control\" onChange={this.handleInput} value={this.state.last_name} placeholder={this.props.current_user.last_name} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"email\" className=\"form-control\" onChange={this.handleInput} value={this.state.email} placeholder={this.props.current_user.email} />\n                    </div>\n                    <Button color=\"primary\" onClick={this.handleSubmit} >Save changes</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}