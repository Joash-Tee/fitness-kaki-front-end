{"ast":null,"code":"var _jsxFileName = \"/Users/colin/Desktop/next/fitness-kaki-front-end/src/User/Profile.js\";\nimport React, { Component } from 'react';\nimport { Button } from \"reactstrap\";\nimport './Profile.css';\nimport Dominic from \"../images/Dominic.jpg\";\nimport axios from 'axios';\nimport loader from \"../images/loader.gif\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      let JWT = localStorage.getItem('userToken');\n      let data = {\n        username: this.state.username,\n        first_name: this.state.first_name,\n        last_name: this.state.last_name,\n        email: this.state.email\n      };\n      axios.post('http://localhost:5000/api/v1/users/update', data, {\n        headers: {\n          Authorization: \"Bearer \".concat(JWT)\n        }\n      }).then(result => {\n        // this.props.history.push('/profile')\n        localStorage.setItem('userData', JSON.stringify(result.data.updated_details));\n        this.props.updateDetails();\n        this.setState({\n          isLoading: false\n        });\n      }).catch(error => {\n        console.log(\"Edit-Profile failed: \".concat(error));\n        console.log(error);\n        this.setState({\n          isLoading: false\n        }); // console.log(error.response.data.message)\n      });\n    };\n\n    this.handleInput = e => {\n      e.preventDefault();\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      isLoading: false,\n      formErrors: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        loginSuccess: false\n      }\n    };\n    this.fileInputRef = React.createRef();\n    this.openFile = this.openFile.bind(this);\n  }\n\n  openFile() {\n    this.fileInputRef.current.click();\n  }\n\n  render() {\n    let isLoading = this.state.isLoading;\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.props.current_user.first_name, \"'s Profile\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Dominic,\n      style: {\n        width: '270px',\n        display: 'block',\n        margin: 'auto'\n      },\n      alt: \"react is a pain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.username,\n      placeholder: this.props.current_user.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first_name\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.first_name,\n      placeholder: this.props.current_user.first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last_name\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.last_name,\n      placeholder: this.props.current_user.last_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"form-control\",\n      onChange: this.handleInput,\n      value: this.state.email,\n      placeholder: this.props.current_user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Save changes\")), isLoading ? React.createElement(\"div\", {\n      id: \"transp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"loader\",\n      src: loader,\n      alt: \"oops, we're supposed to have a fancy loading icon here!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })) : null);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/colin/Desktop/next/fitness-kaki-front-end/src/User/Profile.js"],"names":["React","Component","Button","Dominic","axios","loader","Profile","constructor","props","handleSubmit","e","preventDefault","setState","isLoading","JWT","localStorage","getItem","data","username","state","first_name","last_name","email","post","headers","Authorization","then","result","setItem","JSON","stringify","updated_details","updateDetails","catch","error","console","log","handleInput","name","target","value","password","formErrors","loginSuccess","fileInputRef","createRef","openFile","bind","current","click","render","current_user","width","display","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from \"reactstrap\";\nimport './Profile.css';\nimport Dominic from \"../images/Dominic.jpg\";\nimport axios from 'axios';\nimport loader from \"../images/loader.gif\"\n\nclass Profile extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            first_name: \"\",\n            last_name: \"\",\n            isLoading:false,\n            formErrors: {\n                username: \"\",\n                email: \"\",\n                password: \"\",\n                loginSuccess: false,\n            },\n        };\n        this.fileInputRef = React.createRef();\n        this.openFile = this.openFile.bind(this);\n    }\n\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.setState({isLoading:true})\n        let JWT = localStorage.getItem('userToken');\n        let data = {\n            username: this.state.username,\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            email: this.state.email\n        }\n\n        axios.post('http://localhost:5000/api/v1/users/update',\n            data,\n            {\n                headers: {\n                    Authorization: `Bearer ${JWT}`\n                },\n            }).then(result => {\n                // this.props.history.push('/profile')\n                localStorage.setItem('userData', JSON.stringify(result.data.updated_details))\n                this.props.updateDetails()\n                this.setState({isLoading:false})\n            })\n            .catch(error => {\n                console.log(`Edit-Profile failed: ${error}`)\n                console.log(error)\n                this.setState({isLoading:false})\n                // console.log(error.response.data.message)\n            })\n    }\n    \n    openFile() {\n        this.fileInputRef.current.click()\n    }\n    handleInput = (e) => {\n        e.preventDefault();\n        const name = e.target.name;\n        const value = e.target.value;\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n        let {isLoading} = this.state\n        return (\n            <div className=\"wrapper\">\n                <div className=\"form-wrapper\">\n                    <h1>{this.props.current_user.first_name}'s Profile</h1>\n                    {/* <div className=\"Card\"> */}\n                    <div>\n                        {/* <img src={Acc} id=\"account\" /> */}\n                        <img src={Dominic} style={{ width: '270px', display: 'block', margin: 'auto' }} alt=\"react is a pain\"/>\n                    </div>\n\n                    {/* </div> */}\n                    <br></br>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"username\" className=\"form-control\" onChange={this.handleInput} value={this.state.username} placeholder={this.props.current_user.username} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"first_name\" className=\"form-control\" onChange={this.handleInput} value={this.state.first_name} placeholder={this.props.current_user.first_name} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"last_name\" className=\"form-control\" onChange={this.handleInput} value={this.state.last_name} placeholder={this.props.current_user.last_name} />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type='text' name=\"email\" className=\"form-control\" onChange={this.handleInput} value={this.state.email} placeholder={this.props.current_user.email} />\n                    </div>\n                    <Button color=\"primary\" onClick={this.handleSubmit} >Save changes</Button>\n                </div>\n                {isLoading?\n                <div id=\"transp\">\n                    <img id=\"loader\" src={loader} alt=\"oops, we're supposed to have a fancy loading icon here!\"/>\n                </div>\n                :\n                null\n                }\n            </div>\n        );\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}